#pragma once

#include <stdio.h>
#include "../framework.h"
#include "../version.hpp"

namespace buz {
	int setup_console() {
        if (AllocConsole()) {
            FILE* console;
            freopen_s(&console, "CONOUT$", "w", stdout);
        }
        else 
            return 1;
        return 0;
	}

    int free_console() {
        FreeConsole();
        return 0;
    }

    void print_banner() {
        std::cout << "                                                                           \n"
            << "         ..                                                                \n"
            << ".     , ..        ..                                                       \n"
            << "   .             .                   ,%%%%%%/                              \n"
            << ".    ..        ..               ,**(%%%%%%%%%%%%%/                         \n"
            << "   .,         ,     .   ,  .%%%%%/*,,,,,(%%%%%%%%%%%%%*                    \n"
            << "  ..                  (,******,#%%%%%%*....,,(%%%%%%%%%%%%%*               \n"
            << "           ..    ****/.   ,%%*,,****#%%%%%%/,,....(%%%%%%%%%%%%%/          \n"
            << "         .. %%%%%%,,#%%%,,,%%%%%%%,......#%%%%%%*,,,,,,#%%%%%%&@@@         \n"
            << "       ...,,,,,..,,,,,.........,%%%%%%%,...,,,#%%%%%%/***/(@@@@@@@         \n"
            << "     .//,,,,,,,,,,,,,,,.............,%%%%%%/.******#&@@#(((@@@@@@@         \n"
            << "     .///////*...................,,.%%%%%%  .#%%     *&.   (&&&&%&         \n"
            << "     ,(@@%////////*..,,,,,......,,,,(%%,**/(#@@@(((#@@@#,##@@@,     .      \n"
            << "  %@@@@@@&@@@//////////*......,,,,,,%#.   ((#@@%####@(     #@@@@@.         \n"
            << "  @@@((((@@@@/////&@////////*,,,/((((((/(###(     .#@@@#*  #@@@@@@   ,     \n"
            << "     .@#(#(((&@@@@@@/(@@%/////(((((((########@@&  ,(@#     ##.        .    \n"
            << "     .@@@((((@@@@///@@@&&&&///(###(((########@@@####@@@%%%%@@@%@@@         \n"
            << "     .&&@((((///////%//(((&///(###(##########@@@####@@@&%%%@@@@@@@         \n"
            << "     .&&&@@@@//////////(((((((#%%%###########@@@####@@@&&&&@@@@@@@         \n"
            << "     .@@@@@@@//////////((((#((#%%%###########@@@###%@@@&&&&@@@@@@@         \n"
            << "     .@@@&&&&((////////#(((@@@@@@@###########@@@%%%%@@@&&&&@@@@.           \n"
            << "     .###((&&(((///////&@@@&@@@@@@#######%%%%@@@%%&&@@@&&&,                \n"
            << "       /#(((((((////(((&@@@&&&@@@@#######%%%%@@@&&&&@.                     \n"
            << "            ,((((((((((&&&&@@@@@@@######%%%%&@@@&&&%                       \n"
            << "                 /((((((((&@@@@@@@#%%%%%%%%&#    .%%                       \n"
            << "                      *((((###%%%%%%%%,  %&&#                              \n"
            << "                           /###%%%                                         \n"
            << "                                                                           \n";

        std::cout << "Buzz " << BUZZ_VERSION << "@" << BUZZ_BUILD_STATS << "\n";
        std::cout << "Created by Consolebreak\n\n";
    }

    void clear_last_output() {
        std::cout << "\033[F\033[F\033[F\033[F\033[F"; 
        std::cout << "\033[K";
    }
}